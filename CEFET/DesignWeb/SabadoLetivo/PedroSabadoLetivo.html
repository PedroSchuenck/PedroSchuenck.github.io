<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programação de Clientes Web</title>
    <style>
        header {
            display: flex;
            color:#008;
        }

        header h1 {
            text-transform: uppercase;
        }

        .container {
            width:90%;
            margin:auto;
        }

        label, button  {
            display: block;
            margin: 10px 0 2px;
            font-weight: bold;
        }

        input, select {
            margin-left: 20px;
        }
        table {
            border-spacing:0;
            border-bottom: solid #333 1px;
            margin: auto;
        }
        td, th {
            margin:0;
            padding: 5px 20px;
            border-left: solid #333 1px;
            border-top: solid #333 1px;
        }

        td:last-child, th:last-child {
            border-right: solid #333 1px;
        }

    </style>
</head>
<body>
    <header>
        <figure class="logo">
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Logotipo_cefet-rj.jpg" alt="Logo do CEFET-RJ">
        </figure>
        <section>
        <h1>
            CEFET/RJ - CENTRO FEDERAL DE EDUCAÇÃO  
            TECNOLÓGICA CELSO SUCKOW DA FONSECA 
        </h1>
        <h2>
            Campus Nova Friburgo 
        </h2>
        <p>
            Técnico em Informática Integrado ao Ensino Médio 
        </p>
        <p>
            Programação de Clientes Web 
        </p>
        <p>
            Professor Rafael Escalfoni 
        </p>
        </section>
    </header>
    <main>
        <section class="container">
            <h1>Sábado Letivo, ALEGRIA!</h1>
            <p>Perceba que há atividades muito similares; a intenção é que você desenvolva trechos reutilizáveis de código, evitando retrabalho e copy n' paste. 
            </p>
            <p>As respostas devem ser disponibilizadas através do seu GitHub Pages, na página da  disciplina de Programação de Clientes Web. <strong>Forneça o link na resposta à tarefa. </strong>
            </p>
            <p>Bons estudos! </p>
        </section>
        <section>
            <ol>
                <li><strong>Funções Numéricas </strong>
                <p>
                    Crie as funções aplicáveis a arrays, de acordo com a Tabela 1. A função <em>sum</em> deve receber um array numérico como parâmetro e retornar a soma de seus elementos. A função <em>sumOdds</em> recebe um array numérico e retorna a soma apenas dos elementos ímpares. A função <em>product</em> recebe um array numérico e retorna o produto de seus elementos. 
                </p>
                <table>
                    <tr>
                        <th>Operação</th>
                        <th>Entrada</th>
                        <th>Saída</th>
                    </tr>
                    <tr>
                        <td>sum</td>
                        <td>(1,2,3)</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>sum</td>
                        <td>(2,2,2)</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>sum</td>
                        <td>(1,2,3,4,5,6)</td>
                        <td>21</td>
                    </tr>
                    <tr>
                        <td>sumOdds</td>
                        <td>(1,2,3)</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>sumOdds</td>
                        <td>(2,2,2)</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>sumOdds</td>
                        <td>(1,2,3,4,5,6)</td>
                        <td>9</td>
                    </tr>
                    <tr>
                        <td>product</td>
                        <td>(1,2,3)</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>product</td>
                        <td>(2,2,2)</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>product</td>
                        <td>(1,2,3,4,5,6)</td>
                        <td>720</td>
                    </tr>
                </table>
                <fieldset>
                    <legend>Exercício 1</legend>
                    <label>Entre com os números separados com vírgulas (,)</label>
                    <input type="text" id="ipt-01">
                    <label>Função</label>
                    <select id="sel01">
                        <option value="sum">sum()</option>
                        <option value="sumOdds">sumOdds()</option>
                        <option value="product">product()</option>
                    </select>
                    <button id="executa01">Rodar</button>
                    <h3>Resposta</h3>
                    <p id="resp01"></p>
                </fieldset>
                </li>
                <li><strong>Números primos</strong>
                    <p>
                        Na matemática um número é considerado primo se ele possuir apenas dois divisores, o número um e ele mesmo. 
                    </p>
                    <p>
                        Para ajudar a gerar uma série de n números primos, crie uma função que ao receber o tamanho n retorne a respectiva série de números primos, por exemplo, ao receber o valor 4 o retorno será 2, 3, 5, 7. Contudo, se for recebido dois valores a interpretação será que a série deverá compreender o intervalo desses valores, portanto, os valores 2, 10 resultaram em 2, 3, 5, 7. 
                    </p>
                    <p>
                        Para analisar mais exemplos veja a Tabela 2.  
                    </p>
                    <table>
                        <tr>
                            <th>Entrada</th>
                            <th>Saída</th>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>2, 3, 5, 7</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>2, 3, 5, 7, 11, 13</td>
                        </tr>
                        <tr>
                            <td>2, 10</td>
                            <td>2, 3, 5, 7</td>
                        </tr>
                        <tr>
                            <td>2, 20</td>
                            <td>2, 3, 5, 7, 11, 13, 19</td>
                        </tr>
                        <tr>
                            <td>10, 2</td>
                            <td></td>
                        </tr>
                    </table>
                    <fieldset>
                        <legend>Exercício 2</legend>
                        <label>Entrada</label>
                        <input type="text" id="ipt-02">
                        
                        <button id="executa02">Rodar</button>
                        <h3>Resposta</h3>
                        <p id="resp02"></p>
                    </fieldset>
                </li>
                <li><strong>Saque Mínimo  </strong>
                    <p>
                        A ideia do saque mínimo consiste em determinar qual é a quantidade mínima de cédulas que devem ser coletadas para retirar um valor específico. 
                    </p>
                    <p>
                        Considerando que um ATM possuia as cédulas de 100, 50, 20, 10, 5 e 2, logo para se retirar um valor de R$ 1.280,00 usando a quantidade mínima de notas é necessário as seguintes quantias: 
                    </p>
                    <table>
                        <tr>
                            <th>Cédula</th>
                            <th>Quantidade</th>
                        </tr>
                        <tr>
                            <td>100</td>
                            <td>12</td>
                        </tr>
                        <tr>
                            <td>50</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>20</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>1</td>
                        </tr>
                    </table>
                    <p>
                        Para mais exemplos: R$5.705,00 
                    </p>
                    <table>
                        <tr>
                            <th>Cédula</th>
                            <th>Quantidade</th>
                        </tr>
                        <tr>
                            <td>100</td>
                            <td>57</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>1</td>
                        </tr>
                    </table>
                    <fieldset>
                        <legend>Exercício 3</legend>
                        <label>Entre com um valor</label>
                        <input type="text" id="ipt-03">
                        
                        <button id="executa03">Rodar</button>
                        <h3>Resposta</h3>
                        <div id="resp03"></div>
                    </fieldset>
                </li>
                <li>
                    Considere os arrays abaixo para a questão:
                    <pre>
const people = [
    { name: 'Wes', year: 1988 },
    { name: 'Kait', year: 1986 },
    { name: 'Irv', year: 1970 },
    { name: 'Lux', year: 2015 }
    ];

const comments = [
    { text: 'Love this!', id: 523423 },
    { text: 'Super good', id: 823423 },
    { text: 'You are the best', id: 2039842 },
    { text: 'Ramen is my fav food ever', id: 123523 },
    { text: 'Nice Nice Nice!', id: 542328 }
    ];
</pre>
                    <p>Implemente uma função que verifique se há pelo menos uma pessoa com 19 anos ou mais no array <em>people</em>
                        <button id="btn04-a">Verificar</button>
                        <h3>Resposta</h3>
                        <div id="resp04-a"></div>
                    </p>
                    <p>
                        Implemente uma função que filtre comentários pelo texto.
                        <label>Digite um trecho</label>
                        <input type="search" id="ipt04-b">
                        <h3>Encontrados:</h3>
                        <ul id="resp04-b"></ul>
                    </p>      

                </li>
            </ol>
        </section>
</main>
</body>
<script>
/***********************
** Funções utilitárias **
************************/
const escreveResp = (seletor, resp) => {
    document.querySelector(seletor).textContent = resp;
};

/***********************
** Funções principais **
************************/
const sum = (...valores) => valores.reduce((acum, elem) => acum + elem, 0);

const sumOdds = (...valores) => {
    return valores.reduce((acum, elem) => {
        if (elem % 2 !== 0) {
            return acum + elem;
        }
        return acum;
    }, 0);
};

const product = (...valores) => {
    return valores.reduce((acum, elem) => acum * elem, 1);
};

/***********************
** Eventos de clique **
************************/
const btn01 = document.querySelector("#executa01");
btn01.addEventListener("click", () => {
    const entrada01 = document.querySelector("#ipt-01").value;

    const regex = /(\d+)/g;
    const valores = Array.from(entrada01.matchAll(regex), (match) => parseInt(match[0]));

    const operacaoEscolhida = document.querySelector("#sel01").value;
    let resultado;

    if (operacaoEscolhida === "sum") {
        resultado = sum(...valores);
    } else if (operacaoEscolhida === "sumOdds") {
        resultado = sumOdds(...valores);
    } else if (operacaoEscolhida === "product") {
        resultado = product(...valores);
    }

    escreveResp("#resp01", resultado);
});


const entrada02 = document.querySelector("#ipt-02");
const btn02 = document.querySelector("#executa02");

const ehPrimo = (num) => {
  if (num < 2) return false;
  for (let i = 2; i <= Math.sqrt(num); i++) {
    if (num % i === 0) return false;
  }
  return true;
};

btn02.addEventListener("click", () => {
  const valDeEntrada = entrada02.value;
  const listaVal = valDeEntrada.split(",");
  
  if (listaVal.length === 1) {
    const n = parseInt(listaVal[0]);
    let primos = [];
    let i = 2;
    
    while (primos.length < n) {
      if (ehPrimo(i)) {
        primos.push(i);
      }
      i++;
    }
    
    escreveResp("#resp02", primos.join(", "));
  } else if (listaVal.length === 2) {
    const start = parseInt(listaVal[0]);
    const end = parseInt(listaVal[1]);
    let primos = [];
    
    for (let i = start; i <= end; i++) {
      if (ehPrimo(i)) {
        primos.push(i);
      }
    }
    
    escreveResp("#resp02", primos.join(", "));
  }
});

/***********************
** Função principal **
************************/
const calcularQuantidadeCedulas = (valor) => {
    const cedulas = [100, 50, 20, 10, 5, 2];
    let quantidadeCedulas = [];

    for (let i = 0; i < cedulas.length; i++) {
        const cedula = cedulas[i];
        const quantidade = Math.floor(valor / cedula);
        quantidadeCedulas.push(quantidade);
        valor -= quantidade * cedula;
    }

    return quantidadeCedulas;
};

/***********************
** Evento de clique **
************************/
const btn03 = document.querySelector("#executa03");
btn03.addEventListener("click", () => {
    const entrada03 = document.querySelector("#ipt-03").value;
    const valor = parseInt(entrada03);

    const quantidadeCedulas = calcularQuantidadeCedulas(valor);
    escreveResp("#resp03", quantidadeCedulas.join(", "));
});
    
/***********************
** Dados de exemplo **
************************/
const people = [
  { name: 'Wes', year: 1988 },
  { name: 'Kait', year: 1986 },
  { name: 'Irv', year: 1970 },
  { name: 'Lux', year: 2015 }
];

const comments = [
  { text: 'Love this!', id: 523423 },
  { text: 'Super good', id: 823423 },
  { text: 'You are the best', id: 2039842 },
  { text: 'Ramen is my fav food ever', id: 123523 },
  { text: 'Nice Nice Nice!', id: 542328 }
];

/***********************
** Item a) **
************************/
const btn04a = document.querySelector("#btn04-a");

btn04a.addEventListener("click", () => {
  const hasAdult = people.some((person) => {
    const currentYear = (new Date()).getFullYear();
    return currentYear - person.year >= 19;
  });

  const response = hasAdult ? "Sim" : "Não";
  escreveResp("#resp04-a", response);
});

/***********************
** Item b) **
************************/
const ipt04b = document.querySelector("#ipt04-b");

ipt04b.addEventListener("keyup", () => {
  const searchTerm = ipt04b.value.toLowerCase();

  const filteredComments = comments.filter((comment) => {
    return comment.text.toLowerCase().includes(searchTerm);
  });

  const response = filteredComments.map((comment) => `<li>${comment.text}</li>`).join("");
  document.querySelector("#resp04-b").innerHTML = response;
});


</script>

</html>
